ScalingCloud
====================

Welcome to the ScalingCloud project. This is a project made especially for the HIOA course Service Management (MS019A). 
This project has then functionality to dynamically scale a cloud based on the incoming rate of http connections. 
The project is made especially for OpenStack clouds with the use of Nova commands. The code is programmed to work with HAproxy.

Workflow
-----------

* Two webservers are running a web service in a loadbalanced environment
* The service is popular and has a lot of activity 
* When the amount of incoming http requests to the servers exceeds a certain limit. 
The webservers has a tendency to drop connections, causing the connections to be reset. 
* The project aims to solve this problem, by deploying a new webserver running the same application if the incoming rate of users 
exceeds this limit. Once the number of connections decreases beneath a certain limit, the webserver is deleted. 
* When a server is deployed. The hostname and the given IP address is written to a Puppet governed HAProxy configuration file. 
The entry is removed when the server is deleted. 
*If ScalingCloud stops, the application has a mechamism to detect the number of running webservers upon startup. The application will continoue monitoring
from where it left off when it stopped. 

Functionality 
---------------

The project has implemented functionality to generate graphs from data generated by ScalingCloud. 
Every time the application measures the rate of incoming connections to the server, the number is written to a stats file. This 
data can later be used to generate graphs showing the number of incoming connections to each server. A function that summarizes the number of connections has
been implemented. The numbers here are the accurate numbers of connection within a given time period. 

When the graphs is created, the user has an option to receive an email containing a compressed archive of the graphs. A valid email account can be configured 
inside the configuration file config.ini



Configuration
-----------

The project has several dependencies that must be installed in order to get the project to work. The requirements are listed below 

Puppet
* A haproxy.cfg file on a Puppet master that the application can write changes to. 
* Foreman to manage the webservers- A hostgroup can govern the Puppet manifests
* foreman-default-hostgroup plugin to add the newly deployed servers to a default hostgroup with the correct manifests

OpenStack 
* The project must be deployed against an OpenStack environment. 
* Novaclient must be installed to make it possible to execute nova commands from the command line. 
* Valid OpenStack credentials must be provided to make the application execute the commands. 

Python 
Please make sure that the following python-libraries are preset
* python-novaclient
* python-matplotlib
* python-logging
* python-argparser
* python-configparser




